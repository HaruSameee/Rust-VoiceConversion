<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rust VC</title>
  </head>
  <body>
    <main class="container">
      <header>
        <h1>Rust VC</h1>
        <p class="sub">TypeScript debug panel</p>
      </header>

      <section class="card">
        <h2>Model</h2>
        <label for="modelPath">RVC model path</label>
        <input id="modelPath" type="text" placeholder="model/model.onnx" />
        <label for="hubertPath">HuBERT path (required for RVC)</label>
        <input id="hubertPath" type="text" placeholder="model/hubert.onnx" />
        <label for="rmvpePath">RMVPE path (required for RVC)</label>
        <input id="rmvpePath" type="text" placeholder="model/rmvpe.onnx" />
        <label for="indexPath">Index path (optional, text index only)</label>
        <input id="indexPath" type="text" placeholder="(leave empty for now)" />
      </section>

      <section class="card">
        <h2>Runtime</h2>
        <div class="grid">
          <div>
            <label for="inputGain">Input Gain</label>
            <input id="inputGain" type="number" step="0.1" />
          </div>
          <div>
            <label for="outputGain">Output Gain</label>
            <input id="outputGain" type="number" step="0.1" />
          </div>
          <div>
            <label for="pitchShift">Pitch Shift (semitones)</label>
            <input id="pitchShift" type="number" step="1" />
          </div>
          <div>
            <label for="indexRate">Index Rate</label>
            <input id="indexRate" type="number" step="0.05" min="0" max="1" />
          </div>
          <div>
            <label for="speakerId">Speaker ID</label>
            <input id="speakerId" type="number" step="1" />
          </div>
          <div>
            <label for="sampleRate">Sample Rate</label>
            <input id="sampleRate" type="number" step="1000" />
          </div>
          <div>
            <label for="blockSize">Block Size</label>
            <input id="blockSize" type="number" step="16" />
          </div>
        </div>
      </section>

      <section class="card">
        <h2>Engine</h2>
        <div class="actions">
          <button id="reloadBtn">Reload</button>
          <button id="saveBtn">Save</button>
          <button id="startBtn" class="primary">Start</button>
          <button id="stopBtn">Stop</button>
        </div>
        <p id="statusLine">status: idle</p>
        <p id="levelLine">input level: rms 0.0000 / peak 0.0000</p>
        <p id="messageLine" class="message"></p>
      </section>

      <section class="card log-card">
        <div class="log-head">
          <h2>Debug Log</h2>
          <button id="clearLogBtn">Clear</button>
        </div>
        <pre id="logBox"></pre>
      </section>
    </main>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
